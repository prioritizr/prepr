<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>prepr: Automatic Repair of Spatial Polygons</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">prepr: Automatic Repair of Spatial Polygons</h1>


<div id="TOC">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#tutorial">Tutorial</a>
<ul>
<li><a href="#two-adjacent-inner-rings">Two adjacent inner rings:</a></li>
<li><a href="#polygon-with-an-inner-ring-inside-another-inner-ring">Polygon with an inner ring inside another inner ring</a></li>
</ul></li>
<li><a href="#citation">Citation</a></li>
<li><a href="#getting-help">Getting help</a></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>The <em>prepr R</em> R package is used to repair broken spatial polygons. To achieve this, the package uses the constrained triangulation approach implemented in the <a href="https://github.com/tudelft3d/prepair"><code>prepair</code></a> C++ library (<a href="https://doi.org/10.1016/j.cageo.2014.01.009">Ledoux et al. 2014</a>). Specifically, the main <code>st_prepair()</code> function is used to repair polygons.</p>
</div>
<div id="tutorial" class="section level2">
<h2>Tutorial</h2>
<p>Here we provide a short tutorial showing how the <em>prepr</em> package can be used to repair broken polygon geometries. To start with, we will load the package. We will also load the <em>sf</em> package for working with spatial data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)    <span class="co"># package for working with spatial data</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(prepr) <span class="co"># package for repairing spatial geometries</span></span></code></pre></div>
<p>We will now show how the <em>prepr</em> package can be used to repair broken geometries. To achieve this, we will examine a range of different mechanisms by which polygons can be broken. For each of these mechanisms, we will manually create a broken polygon geometry based on the mechanism, repair the geometry (using <code>st_prepair()</code>), and then compare the repaired geometry with the original broken geometry. We will also confirm that the broken geometries have indeed been repaired (using <code>sf::st_is_valid()</code>).</p>
<div id="a-bowtie-polygon" class="section level4">
<h4>A ‘bowtie’ polygon</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(<span class="st">&quot;POLYGON((0 0, 0 10, 10 0, 10 10, 0 0))&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Self-intersection[5 5]&quot;</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="square-with-wrong-orientation" class="section level4">
<h4>Square with wrong orientation</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(<span class="st">&quot;POLYGON((0 0, 0 10, 10 10, 10 0, 0 0))&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Valid Geometry&quot;</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="inner-ring-with-one-edge-sharing-part-of-an-edge-of-the-outer-ring" class="section level4">
<h4>Inner ring with one edge sharing part of an edge of the outer ring</h4>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;POLYGON((0 0, 10 0, 10 10, 0 10, 0 0),(5 2, 5 7, 10 7, 10 2, 5 2))&quot;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Self-intersection[10 2]&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="dangling-edge" class="section level4">
<h4>Dangling edge:</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(<span class="st">&quot;POLYGON((0 0, 10 0, 15 5, 10 0, 10 10, 0 10, 0 0))&quot;</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Self-intersection[15 5]&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="two-adjacent-inner-rings" class="section level3">
<h3>Two adjacent inner rings:</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;POLYGON((0 0, 10 0, 10 10, 0 10, 0 0),&quot;</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;(1 1, 1 8, 3 8, 3 1, 1 1), (3 1, 3 8, 5 8, 5 1, 3 1))&quot;</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Self-intersection[3 8]&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
<div id="polygon-with-an-inner-ring-inside-another-inner-ring" class="section level3">
<h3>Polygon with an inner ring inside another inner ring</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create broken polygon</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">st_as_sfc</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;POLYGON((0 0, 10 0, 10 10, 0 10, 0 0),&quot;</span>,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;(2 8, 5 8, 5 2, 2 2, 2 8), (3 3, 4 3, 3 4, 3 3))&quot;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that polygon is broken, and display reason why it&#39;s broken</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(x, <span class="at">reason =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Holes are nested[3 3]&quot;</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># repair the polygon</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">st_prepair</span>(x)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># verify that repaired polygon is NOT broken</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">st_is_valid</span>(y)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># visualize the polygons</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="fl">2.5</span>, <span class="dv">0</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, <span class="at">main =</span> <span class="st">&quot;original&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(x, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(y, <span class="at">main =</span> <span class="st">&quot;repaired&quot;</span>, <span class="at">col =</span> <span class="st">&quot;#999999&quot;</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(<span class="fu">st_coordinates</span>(<span class="fu">st_cast</span>(y, <span class="st">&quot;POINT&quot;</span>)), <span class="at">col =</span> <span class="st">&quot;#e41a1c&quot;</span>, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="citation" class="section level2">
<h2>Citation</h2>
<p>We recommend citing the methodology that underpins the <em>prepr R</em> package. To cite this work, please use:</p>
<blockquote>
<p>Ledoux H, Arroyo Ohori K, and Meijers M (2014) A triangulation-based approach to automatically repair GIS polygons. <em>Computers &amp; Geosciences</em> 66:121–131.</p>
</blockquote>
</div>
<div id="getting-help" class="section level2">
<h2>Getting help</h2>
<p>If you have any questions about using the <em>prepr R</em> package or suggestions for improving it, please <a href="https://github.com/prioritizr/prepr/issues/new">file an issue at the package’s online code repository</a>.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
